sudo nano /etc/netplan/50-cloud-init.yaml

sudo chmod 777 /etc/netplan/50-cloud-init.yaml
  version: 2
  ethernets:
    ens33:
      dhcp4: no
      addresses:
        - 192.168.1.10/28
      gateway4: 192.168.1.3
      nameservers:
        addresses: [8.8.8.8, 8.8.4.4]
sudo netplan apply
ip addr show ens33
========================================
sudo apt update
sudo apt install isc-dhcp-server -y
sudo nano /etc/default/isc-dhcp-server
INTERFACES="ens33"
========================================
sudo nano /etc/dhcp/dhcpd.conf

option domain-name "local.lan";
option domain-name-servers 8.8.8.8, 8.8.4.4;

default-lease-time 600;
max-lease-time 7200;
authoritative;
#subnet declaration for your network vlan 10
subnet 192.168.1.0 netmask 255.255.255.240 {
  range 192.168.1.4 192.168.1.8;
  option routers 192.168.1.3;
  option subnet-mask 255.255.255.240;
  option broadcast-address 192.168.1.15;
  option domain-name-servers 8.8.8.8, 4.4.4.4;
}
#subnet declaration for your network vlan 20
subnet 192.168.1.16 netmask 255.255.255.240 {
  range 192.168.1.20 192.168.1.28;
  option routers 192.168.1.19;
  option subnet-mask 255.255.255.240;
  option broadcast-address 192.168.1.31;
  option domain-name-servers 8.8.8.8, 4.4.4.4;
}
#subnet declaration for your network vlan 30
subnet 192.168.1.32 netmask 255.255.255.240 {
  range 192.168.1.34 192.168.1.42;
  option routers 192.168.1.35;
  option subnet-mask 255.255.255.240;
  option broadcast-address 192.168.1.47;
  option domain-name-servers 8.8.8.8, 4.4.4.4;
}
#subnet declaration for your network vlan 40
subnet 192.168.1.48 netmask 255.255.255.240 {
  range 192.168.1.52 192.168.1.60;
  option routers 192.168.1.51;
  option subnet-mask 255.255.255.240;
  option broadcast-address 192.168.1.63;
  option domain-name-servers 8.8.8.8, 4.4.4.4;
}#subnet declaration for your network vlan 50
subnet 192.168.1.64 netmask 255.255.255.240 {
  range 192.168.1.64 192.168.1.78;
  option routers 192.168.1.67;
  option subnet-mask 255.255.255.240;
  option broadcast-address 192.168.1.79;
  option domain-name-servers 8.8.8.8, 4.4.4.4;
}
==========================
sudo systemctl restart isc-dhcp-server
sudo systemctl enable isc-dhcp-server
systemctl status isc-dhcp-server
sudo ufw allow 67/udp
sudo ufw allow 68/udp

